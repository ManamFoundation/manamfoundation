apply plugin: 'org.flywaydb.flyway'

task flywayTestConfiguration(
        group: 'flyway configuration',
        description: 'Sets flyway test database configuration properties.') {
    doLast {
        project.ext['flyway.user'] = 'root'
        project.ext['flyway.url'] = 'jdbc:mysql://localhost/spring'
        project.ext['flyway.password'] = 'password'
        project.ext['flyway.locations'] = 'db/migration'
    }
}

task flywayDevConfiguration(
        group: 'flyway configuration',
        description: 'Sets flyway dev database configuration properties.') {
    doLast {
        project.ext['flyway.user'] = 'root'
        project.ext['flyway.url'] = 'jdbc:mysql://localhost/spring'
        project.ext['flyway.password'] = 'password'
        project.ext['flyway.locations'] = 'db/migration'
    }
}